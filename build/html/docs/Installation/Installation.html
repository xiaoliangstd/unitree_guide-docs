<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; unitree_guide  documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Anomalies" href="Anomalies.html" />
    <link rel="prev" title="Installation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> unitree_guide
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmakelists-txt">CMakeLists.txt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-code-and-run-in-gazebo">Build code and run in Gazebo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-code-and-run-in-real-robot">Build code and run in real robot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Anomalies.html">Anomalies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Practice/index.html">Practice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">unitree_guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Installation</a> &raquo;</li>
      <li>Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/docs/Installation/Installation.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><a class="reference external" href="https://github.com/unitreerobotics/unitree_guide">unitree_guide</a></li>
<li><a class="reference external" href="https://github.com/unitreerobotics/unitree_ros">unitree_ros</a></li>
<li><a class="reference external" href="https://github.com/unitreerobotics/unitree_ros_to_real">unitree_ros_to_real</a></li>
</ol>
<p><img alt="Switch" src="../../_images/download_pkg.png" /></p>
<center>
<br>
<div style="color:orange; border-bottom: 0.1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 1px;">All the packages you need to prepare</div>
</center>
<br></div>
<div class="section" id="cmakelists-txt">
<h2>CMakeLists.txt<a class="headerlink" href="#cmakelists-txt" title="Permalink to this headline">¶</a></h2>
<p>Since our program needs to support many uncertain scenarios.
For example, both A1 robots and Go1 robots need to be supported.both compiling under ROS and compiling without relying on ROS, etc. To easily switch between these requirements, we need to rely on conditional compilation.
We can get the compiler to compile what we want with a simple setup.<br>
Next, let’s see how to implement conditional compilation in CMake. The settings for CMake compilation are all in the
<strong>unitree_guide/CMakeLists.txt</strong> file.
Open this file and at the beginning is the file used to configure conditional compilation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="nb">set</span><span class="p">(</span><span class="n">ROBOT_TYPE</span> <span class="n">Go1</span><span class="p">)</span>        <span class="c1"># Robot models, currently supporting Go1 and A1</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">PLATFORM</span> <span class="n">amd64</span><span class="p">)</span>        <span class="c1"># Program compilation platform, currently supports amd64 and arm64</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">CATKIN_MAKE</span> <span class="n">ON</span><span class="p">)</span>        <span class="c1"># Whether to use ROS&#39;s catkin_make, ON or OFF</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">SIMULATION</span> <span class="n">ON</span><span class="p">)</span>         <span class="c1"># For Gazebo simulation environment, ON or OFF</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">REAL_ROBOT</span> <span class="n">OFF</span><span class="p">)</span>        <span class="c1"># For real robot control, ON or OFF, must be different from the previous one</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">DEBUG</span> <span class="n">ON</span><span class="p">)</span>              <span class="c1"># Whether to turn on Debug debugging, ON or OFF</span>
    <span class="nb">set</span><span class="p">(</span><span class="n">MOVE_BASE</span> <span class="n">ON</span><span class="p">)</span>          <span class="c1"># Whether to turn on the move_base navigation function, ON or OFF</span>
</pre></div>
</div>
<p>The first line of the above code can be thought of as assigning the variable <code class="docutils literal notranslate"><span class="pre">ROBOT_TYPE</span></code> to the string <code class="docutils literal notranslate"><span class="pre">&quot;Go1&quot;</span></code>.
The third line can be thought of as assigning the variable <code class="docutils literal notranslate"><span class="pre">CATKIN_MAKE</span></code> to the Boolean quantity <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">OFF</span></code> corresponds to the boolean <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</div>
<div class="section" id="build-code-and-run-in-gazebo">
<h2>Build code and run in Gazebo<a class="headerlink" href="#build-code-and-run-in-gazebo" title="Permalink to this headline">¶</a></h2>
<p>In the following we will verify the control program in the Gazebo simulation, because it is applied in the simulation environment. So the reader should pay attention to CMakeLists.txt. set <code class="docutils literal notranslate"><span class="pre">ROBOT_TYPE</span></code> in it to their robot model.
and set <code class="docutils literal notranslate"><span class="pre">SIMULATION</span></code> to <code class="docutils literal notranslate"><span class="pre">ON</span></code>.<code class="docutils literal notranslate"><span class="pre">REAL_ROBOT</span></code> is set to <code class="docutils literal notranslate"><span class="pre">OFF</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="nb">set</span><span class="p">(</span><span class="n">ROBOT_TYPE</span> <span class="n">Go1</span><span class="p">)</span>        
    <span class="nb">set</span><span class="p">(</span><span class="n">PLATFORM</span> <span class="n">amd64</span><span class="p">)</span>       
    <span class="nb">set</span><span class="p">(</span><span class="n">CATKIN_MAKE</span> <span class="n">ON</span><span class="p">)</span>       
    <span class="nb">set</span><span class="p">(</span><span class="n">SIMULATION</span> <span class="n">ON</span><span class="p">)</span>         
    <span class="nb">set</span><span class="p">(</span><span class="n">REAL_ROBOT</span> <span class="n">OFF</span><span class="p">)</span>       
    <span class="nb">set</span><span class="p">(</span><span class="n">DEBUG</span> <span class="n">ON</span><span class="p">)</span>              
    <span class="nb">set</span><span class="p">(</span><span class="n">MOVE_BASE</span> <span class="n">ON</span><span class="p">)</span>          
</pre></div>
</div>
<p>After configuring the CMakeLists.txt file, simply go to the catkin_ws folder and type catkin_make and run it.If it looks like the image below and no errors are reported, it means the compilation was successful.
<img alt="Switch" src="../../_images/ros_build.png" /></p>
<center>
<br>
<div style="color:orange; border-bottom: 0.1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 1px;">Compile successfully</div>
</center>
<br></div>
<div class="section" id="build-code-and-run-in-real-robot">
<h2>Build code and run in real robot<a class="headerlink" href="#build-code-and-run-in-real-robot" title="Permalink to this headline">¶</a></h2>
<p>Compile the controller on the robot’s onboard computer.
First copy the entire <strong>unitree_guide</strong> folder to robot’s onboard computer. It is recommended to put it directly under the <strong>Home</strong> folder on the control computer.
Considering that there is no ROS and Python on the UP Board of the A1 robot.we cannot use the <code class="docutils literal notranslate"><span class="pre">catkin_make</span></code> command of ROS to compile the program. Nor can we use the PyPlot class to draw line graphs.So we need to change the following property in CMakeLists.txt.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="nb">set</span><span class="p">(</span><span class="n">PLATFORM</span> <span class="n">amd64</span><span class="p">)</span>         
    <span class="nb">set</span><span class="p">(</span><span class="n">CATKIN_MAKE</span> <span class="n">OFF</span><span class="p">)</span>            
    <span class="nb">set</span><span class="p">(</span><span class="n">SIMULATION</span> <span class="n">OFF</span><span class="p">)</span>             
    <span class="nb">set</span><span class="p">(</span><span class="n">REAL_ROBOT</span> <span class="n">ON</span><span class="p">)</span>              
    <span class="nb">set</span><span class="p">(</span><span class="n">DEBUG</span> <span class="n">OFF</span><span class="p">)</span>                  
    <span class="nb">set</span><span class="p">(</span><span class="n">MOVE_BASE</span> <span class="n">OFF</span><span class="p">)</span>          
</pre></div>
</div>
<p>About the PLATFORM variable.
It indicates the architecture of the computer, for example, the 64-bit personal computer we commonly use is the <strong>amd64</strong> architecture.The UP Board on A1 is also <strong>amd64</strong> architecture.The control computer of Go1 is Raspberry Pi, which is <strong>arm64</strong> architecture.<br>
After completing the changes to the CMakeLists.txt file. Use the scp function described in above section. Send the unitree_guide folder to the Home directory of the robot’s onboard computer. For the UP Board of the A1 robot, this Home directory is /home/unitree. For the Go1 robot’s Raspberry Pi it is /home/pi.Of course, the reader can also copy the unitree_guide folder to the Home directory manually using a USB stick.<br>
Then open an terminal and move the path to the unitree_guide folder. Then use <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> command to create two folders, build and bin.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">mkdir</span> <span class="n">build</span> <span class="nb">bin</span>        
</pre></div>
</div>
<p>The build folder holds the compiled intermediate files.
And the compiled executable files will be output to the bin folder. Go to the build folder and execute the following two commands in sequence.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">cmake</span> <span class="o">..</span>
  <span class="n">make</span>     
</pre></div>
</div>
<p>Then in the bin folder, execute the following command to run our quadruped robot control program.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="n">sudo</span> <span class="o">./</span><span class="n">junior_ctrl</span>  
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Anomalies.html" class="btn btn-neutral float-right" title="Anomalies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Unitree Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>